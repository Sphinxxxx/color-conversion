<!DOCTYPE html>
<html>
    <head>
        <title>color-conversion</title>
        
        <script src="../dist/color-conversion.min.js"></script>

        <style>
            #combos li {
                display: table;
                background-image: repeating-linear-gradient(90deg, gray 0, gray 12px, white 0, white 24px);
                white-space: nowrap;
            }
            #combos li div {
                display: inline-block;
                width: 14em;
                height: 2em;
                padding: .5em;
                margin: -.25em;
                border: .5em solid white;
                overflow: hidden;
                text-shadow: 1px 1px 0 white;
            }
            #single li {
                border-left: 30px solid;
            }
        </style>
    </head>
    <body>
        <ul id="combos">
            <li>
                <div></div>
                <div></div>
                <div></div>
                <div></div>
            </li>
            <li>
                <div></div>
                <div></div>
                <div></div>
                <div></div>
            </li>
            <li>
                <div></div>
                <div></div>
                <div></div>
                <div></div>
            </li>
            <li>
                <div></div>
                <div></div>
                <div></div>
                <div></div>
            </li>
        </ul>
        
        <div id="single">
            <input value="rgba(87,45,192,.66667)"/>
            <ul>
                <li></li>
                <li></li>
                <li></li>
            </ul>
        </div>
        
        <script>
            /* global Color */
            Array.from = Array.from || function(list) { return Array.prototype.slice.call(list); };
            function $$(selector, context) {
                return Array.from((context || document).querySelectorAll(selector));
            }
            
            function setColor(el, colorA, color) {
                //color = color.replace(/(\.\d\d)\d+/g, '$1')
                //             .replace(/\,/g, ', ');
                
                el.style.backgroundColor = colorA;
                el.textContent = colorA;
                
                if(color) {
                   el.style.borderColor = color;
                }
            }
            
            
            //Auto-combos:
            const hex = '#' + Math.round(Math.random() * 0xFFFF).toString(16),
                  base = new Color(hex);
            //base.hsla = [Math.random(), Math.random(), Math.random(), Math.random()];
            const reps = [
                      hex,
                      base.rgbaString,
                      base.hslaString,
                      base.hex,
                  ];

            $$('#combos li').forEach(function(li, i) {
                const swatches = $$('div', li),
                      color = new Color(reps[i]);
                
                setColor(swatches[0], reps[i]);
                setColor(swatches[1], color.rgbaString, color.rgbString);
                setColor(swatches[2], color.hslaString, color.hslString);
                setColor(swatches[3], color.hex,        color.printHex());
            });
            
            
            //Custom input:
            const singleInput = $$('#single input')[0],
                  singleConv  = $$('#single li');
            
            singleInput.onchange = function(e) {
                const val = singleInput.value;
                if(!val) { return; }

                const color = new Color(val);

                setColor(singleConv[0], color.rgbaString, color.rgbString);
                setColor(singleConv[1], color.hslaString, color.hslString);
                setColor(singleConv[2], color.hex,        color.printHex());

                singleInput.select();
            };
            
            singleInput.onchange();
            
            
            //Color names:
            console.log(new Color('red').hex);
            console.log(new Color('yellowgreen').hex);
            console.log(new Color('mediumaquamarine').hex);
            console.log(new Color('not-a-color').hex);
        </script>
    </body>
</html>